<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Valentine</title>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
body{
  margin:0;
  min-height:100svh;
  display:grid;
  place-items:center;
  background:radial-gradient(circle,#ffeef6,#ffd6e7);
  font-family:system-ui;
  overflow:hidden;
}
.card{
  width:min(700px,92vw);
  background:#ffffffcc;
  padding:28px;
  border-radius:22px;
  text-align:center;
}
.button-zone{
  position:relative;
  height:170px;
  margin-top:20px;
}
button{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  padding:16px 26px;
  font-size:18px;
  font-weight:800;
  border:none;
  border-radius:999px;
}
#yesBtn{left:18%;background:#ff3b7a;color:white}
#noBtn{left:62%;background:#e5e7eb}
.result{display:none;margin-top:20px}
canvas{position:fixed;inset:0;pointer-events:none}
</style>
</head>

<body>
<canvas id="confettiCanvas"></canvas>
<div class="card">
<h1 id="mainQuestion"></h1>

<div class="button-zone" id="zone">
<button id="yesBtn">Yes</button>
<button id="noBtn">No</button>
</div>

<div class="result" id="result">
<h2>YAY! ðŸŽ‰</h2>
<img src="https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif" width="280">
</div>
</div>

<script>
const girlName="Sonali";
document.getElementById("mainQuestion").textContent=
girlName+", will you be my valentine?";

const zone=document.getElementById("zone");
const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const result=document.getElementById("result");

let zoneRect=zone.getBoundingClientRect();
window.addEventListener("resize",()=>zoneRect=zone.getBoundingClientRect());

function clamp(n,min,max){return Math.max(min,Math.min(max,n));}

function jumpButton(x,y){
  const b=noBtn.getBoundingClientRect();
  let dx=(b.left+b.width/2)-x;
  let dy=(b.top+b.height/2)-y;
  let mag=Math.hypot(dx,dy)||1;
  dx/=mag; dy/=mag;

  let newLeft=(b.left-zoneRect.left)+dx*170;
  let newTop=(b.top-zoneRect.top)+dy*170;

  newLeft=clamp(newLeft,0,zoneRect.width-b.width);
  newTop=clamp(newTop,0,zoneRect.height-b.height);

  noBtn.style.left=newLeft+"px";
  noBtn.style.top=newTop+"px";
  noBtn.style.transform="none";
}

/* DESKTOP */
zone.addEventListener("pointermove",e=>{
  jumpButton(e.clientX,e.clientY);
});

/* MOBILE â€” reacts instantly when finger touches */
zone.addEventListener("touchstart",e=>{
  const t=e.touches[0];
  jumpButton(t.clientX,t.clientY);
},{passive:true});

zone.addEventListener("touchmove",e=>{
  const t=e.touches[0];
  jumpButton(t.clientX,t.clientY);
},{passive:true});

/* YES CLICK */
yesBtn.addEventListener("click",()=>{
  zone.style.display="none";
  result.style.display="block";
  const c=confetti.create(document.getElementById("confettiCanvas"),{resize:true});
  c({particleCount:180,spread:120,origin:{x:0.5,y:0.6}});
});
</script>
</body>
</html>
