<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Will you be my Valentine?</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
:root {
  --bg1:#ffd6e7;
  --bg2:#ffeef6;
  --card:#ffffffcc;
  --yes:#ff3b7a;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100svh;
  display:grid;
  place-items:center;
  background:radial-gradient(circle at top,var(--bg2),var(--bg1));
  font-family:system-ui,sans-serif;
  overflow:hidden;
  padding:16px;
}

.card{
  width:min(720px,92vw);
  padding:26px 22px;
  background:var(--card);
  backdrop-filter:blur(10px);
  border-radius:22px;
  text-align:center;
  box-shadow:0 18px 60px rgba(0,0,0,.15);
}

h1{font-size:clamp(26px,4vw,44px);margin:12px 0 18px}

.button-zone{
  position:relative;
  width:min(520px,92%);
  height:160px;
  margin:0 auto;
  touch-action:none;
}

button{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  padding:16px 26px;
  font-size:18px;
  font-weight:800;
  border-radius:999px;
  border:none;
  cursor:pointer;
}

#yesBtn{left:18%;background:var(--yes);color:#fff}
#noBtn{left:62%;background:#e5e7eb}

.result{display:none;margin-top:20px}
canvas{position:fixed;inset:0;pointer-events:none}
</style>
</head>

<body>
<canvas id="confettiCanvas"></canvas>

<main class="card">
<h1 id="mainQuestion"></h1>

<section class="button-zone" id="zone">
  <button id="yesBtn">Yes</button>
  <button id="noBtn">No</button>
</section>

<div class="result" id="result">
  <h2>YAY! ðŸŽ‰</h2>
  <img src="https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif" width="300">
</div>
</main>

<script>
const girlName="Sonali";
document.getElementById("mainQuestion").textContent=
girlName+", will you be my valentine?";

const zone=document.getElementById("zone");
const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const result=document.getElementById("result");

let zoneRect=zone.getBoundingClientRect();
window.addEventListener("resize",()=>zoneRect=zone.getBoundingClientRect());

function clamp(n,min,max){return Math.max(min,Math.min(max,n));}

function moveNo(x,y){
  const b=noBtn.getBoundingClientRect();
  let dx=(b.left+b.width/2)-x;
  let dy=(b.top+b.height/2)-y;
  let mag=Math.hypot(dx,dy)||1;
  dx/=mag; dy/=mag;

  let newLeft=(b.left-zoneRect.left)+dx*160;
  let newTop=(b.top-zoneRect.top)+dy*160;

  newLeft=clamp(newLeft,0,zoneRect.width-b.width);
  newTop=clamp(newTop,0,zoneRect.height-b.height);

  noBtn.style.left=newLeft+"px";
  noBtn.style.top=newTop+"px";
  noBtn.style.transform="none";
}

function handleMove(x,y){
  const b=noBtn.getBoundingClientRect();
  const dist=Math.hypot((b.left+b.width/2)-x,(b.top+b.height/2)-y);
  if(dist<150) moveNo(x,y);
}

zone.addEventListener("pointermove",e=>handleMove(e.clientX,e.clientY));

zone.addEventListener("touchmove",e=>{
  const t=e.touches[0];
  handleMove(t.clientX,t.clientY);
},{passive:true});

yesBtn.addEventListener("click",()=>{
  zone.style.display="none";
  result.style.display="block";

  const confettiInstance=confetti.create(document.getElementById("confettiCanvas"),{resize:true});
  confettiInstance({particleCount:180,spread:120,origin:{x:0.5,y:0.6}});
});
</script>
</body>
</html>
